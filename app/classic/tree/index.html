<!DOCTYPE html>
<html>
  <head>
    <title>JupyterLite Classic - Tree</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script id="jupyter-config-data" type="application/json"></script>
  </head>
  <body>
    <script>
      (function() {
        var pageInfo = document.getElementById('jupyter-config-data');
        var base = window.location.pathname.replace(
          /\/classic\/tree(\/|\/index.html)?$/,
          '/'
        );
        const normalizePathName = () => {
          let path = document.location.pathname.replace('index.html','')
          // get the parent path (..)
          if(path.endsWith('/')) {
            path = path.substr(0, path.length - 1)
          }
          return path.substr(0, path.lastIndexOf('/') + 1);
        }
        pageInfo.textContent = JSON.stringify(
          {
            classicPage: 'tree',
            baseUrl: base,
            fullStaticUrl: base + 'classic/build',
            fullMathjaxUrl: `${document.location.protocol}//${document.location.host}${normalizePathName()}mathjax/MathJax.js`,
            mathjaxConfig: 'TeX-AMS_CHTML-full,Safe',
            settingsUrl: base + 'classic/build/schemas',
            themesUrl: base + 'classic/build/themes'
          },
          null,
          2
        );
        const bundle = document.createElement('script');
        bundle.src = base + 'classic/build/bundle.js';
        bundle.main = 'index';
        document.body.appendChild(bundle);
        const favicon = document.createElement('link');
        favicon.rel = 'icon';
        favicon.type = 'image/x-icon';
        favicon.href = base + 'lab/favicon.ico';
        document.head.appendChild(favicon);
      })();
    </script>
  </body>
</html>
